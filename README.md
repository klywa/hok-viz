# 王者荣耀对局可视化工具 (HOK-Viz)

## 简介
这是一个将王者荣耀对局文本描述转换为高清可视化战报图片的工具。支持批量生成和Web交互模式。

## 功能特性
- **对局还原**：基于文本描述还原英雄位置、血量、状态。
- **高清地图**：使用高清王者荣耀地图底图。
- **信息看板**：两侧展示详细的英雄装备、经济、KDA数据。
- **画质调节**：支持标准(1080p)、高清(4K)、超清(6K)多种输出分辨率。
- **批量处理**：支持 JSONL 格式批量生成。
- **Web 界面**：提供可视化上传、预览、下载及复制到剪贴板功能。

## 安装依赖

```bash
pip install -r requirements.txt
```

## 资源准备
首次运行前需要下载游戏资源（英雄头像、装备图标等）：

```bash
python src/assets_manager.py
```

## 使用方法

### 1. Web 交互模式 (推荐)
启动 Web 界面，提供直观的操作体验。

```bash
streamlit run src/app.py
```

**Web 界面功能：**
- **文本输入**：直接粘贴对局描述文本。
- **文件上传**：支持上传 `.jsonl` 或 `.txt` 文件自动读取内容。
- **画质设置**：侧边栏可调整输出画质（标准/高清/超清）。
- **结果导出**：生成图片后，支持一键**下载高清PNG**或**复制到剪贴板**。

### 2. 批量处理模式
将包含对局信息的 JSONL 文件批量转换为图片。

```bash
python src/batch.py --input data/sample.jsonl --output output_results
```

### 输入格式说明
支持纯文本格式（参考 `data/sample.txt`）和 JSONL 格式（参考 `data/sample.jsonl`）。
JSONL 每一行应包含 `id` 和 `content` 字段。

## 目录结构
- `src/`: 源代码
- `assets/`: 游戏资源（需下载）
- `data/`: 示例数据
- `output_*/`: 生成结果
